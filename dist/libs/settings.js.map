{"version":3,"sources":["../../js/libs/settings.js"],"names":["app","constants","port","fbService","fbProvider","fb","graphMsgURL","pageToken","appSecret","env","set","process","PORT","use","bodyParser","json","verify","verifyRequestSignature","urlencoded","extended"],"mappings":";;;;;;AACA;;;;AACA;;;;;;kBAGe,UAACA,GAAD,EAAMC,SAAN,EAAoB;AAC/B,QAAIC,OAAO,IAAX;AACA,QAAIC,YAAY,IAAIC,oBAAJ,CAAeH,UAAUI,EAAV,CAAaC,WAA5B,EAAyCL,UAAUI,EAAV,CAAaE,SAAtD,EAAiEN,UAAUI,EAAV,CAAaG,SAA9E,CAAhB;;AAEA,QAAGP,SAAH,EAAa;AACTC,eAAOD,UAAUQ,GAAV,CAAcP,IAAd,GAAqBD,UAAUQ,GAAV,CAAcP,IAAnC,GAA0CA,IAAjD;AACH;;AAEDF,QAAIU,GAAJ,CAAQ,MAAR,EAAiBC,QAAQF,GAAR,CAAYG,IAAZ,IAAoBV,IAArC;;AAEA;AACAF,QAAIa,GAAJ,CAAQC,qBAAWC,IAAX,CAAgB;AACpBC,gBAAQb,UAAUc;AADE,KAAhB,CAAR;;AAIA;AACAjB,QAAIa,GAAJ,CAAQC,qBAAWI,UAAX,CAAsB;AAC1BC,kBAAU;AADgB,KAAtB,CAAR;;AAIA;AACAnB,QAAIa,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACH,C","file":"settings.js","sourcesContent":["\nimport bodyParser from 'body-parser'\nimport fbProvider from '../providers/facebook/fbProvider'\n\n\nexport default (app, constants) => {\n    let port = 3000;\n    let fbService = new fbProvider(constants.fb.graphMsgURL, constants.fb.pageToken, constants.fb.appSecret);\n    \n    if(constants){\n        port = constants.env.port ? constants.env.port : port;\n    }\n\n    app.set('port', (process.env.PORT || port))\n\n    // Verifying Facebook Request\n    app.use(bodyParser.json({\n        verify: fbService.verifyRequestSignature\n    }))\n\n    // Process application/x-www-form-urlencoded\n    app.use(bodyParser.urlencoded({\n        extended: false\n    }))\n\n    // Process application/json\n    app.use(bodyParser.json())\n}"]}